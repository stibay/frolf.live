<ion-header>

  <ion-navbar>
    <ion-title>Create a New Post</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding text-center>
  <ng-container *ngIf="auth.user | async as user">
    <img *ngIf="post.img" [src]="post.img">

    <p>Upload an image from your device and add some content to the post</p>

    <file-upload (uploadFinished)="updateURL($event) "></file-upload>
    <image-upload [userId]="user.uid" (uploadFinished)="updateURL($event)"></image-upload>

    <ion-input floating type="text" placeholder="Paste Img URL or select from device" [(ngModel)]="post.img"></ion-input>

    <hr>

    <ion-input floating type="text" placeholder="Post Content" [(ngModel)]="post.content"></ion-input>

    <hr>

    <button [disabled]="!post.img || !post.content " ion-button full color="secondary" (tap)="create(user)">Save Post</button>
  </ng-container>
</ion-content>
